# Ofuscación Simple de Scripts Python

Este módulo contiene un script de Python (`simple_python_obfuscator.py`) que aplica técnicas básicas de ofuscación a otro script de Python (`sample_script_to_obfuscate.py`). El objetivo es hacer el código más difícil de leer y entender para un humano, sin cambiar su funcionalidad.

**Nota Importante:** Las técnicas utilizadas aquí son simples y con fines educativos. Un analista experimentado o herramientas de de-ofuscación avanzadas podrían revertirlas o analizarlas. La ofuscación no es una medida de seguridad infalible, sino una capa para dificultar el análisis.

## Archivos

*   `simple_python_obfuscator.py`: El script que realiza la ofuscación. Los paths a los archivos de entrada y salida son ahora relativos a la ubicación de este script.
*   `sample_script_to_obfuscate.py`: Un script de Python de ejemplo, simple y bien comentado, que sirve como entrada para el ofuscador.
*   `obfuscated_script.py` (generado): El script de ejemplo después de aplicar las técnicas de ofuscación. Se guarda en el mismo directorio que los otros scripts.

## Técnicas de Ofuscación Implementadas (Básicas)

1.  **Eliminación de Comentarios y Líneas Vacías:** Reduce el tamaño y elimina información útil para el analista. También elimina comentarios al final de línea.
2.  **Renombrado de Variables y Funciones:** Reemplaza nombres significativos por nombres generados aleatoriamente (ej. `saludar_usuario` -> `_xgtfrsde`). Se utiliza el módulo `ast` de Python para un parseo inicial más seguro de nombres globales y locales (argumentos y variables asignadas dentro de funciones). El reemplazo final en el código sigue siendo basado en texto para este ejemplo.
3.  **Codificación de Strings Literales:** Los strings en el código se codifican a base64 y se decodifican en tiempo de ejecución (ej. `"Hola"` -> `base64.b64decode("SG9sYQ==").decode("utf-8")`). Se utiliza el módulo `ast` para identificar los strings y se evita codificar strings muy cortos o que ya parecen ofuscados.
4.  **Inserción de Código Muerto:** Se añaden líneas de código o funciones que no afectan la lógica del programa pero añaden "ruido" al análisis.

## Cómo Ejecutar

1.  Asegúrate de tener Python instalado. No se requieren librerías externas más allá de las estándar para el ofuscador en sí.
2.  Navega al directorio del script:
    \`\`\`bash
    cd ia-hacking/malware_ai/simple_obfuscation/
    python simple_python_obfuscator.py
    \`\`\`

## Resultados Esperados

*   El script imprimirá el código original, un mapa de los renombres realizados, y el código ofuscado final en la consola.
*   Se creará un archivo \`obfuscated_script.py\` en el directorio \`ia-hacking/malware_ai/simple_obfuscation/\` que contiene la versión ofuscada de \`sample_script_to_obfuscate.py\`.
*   Puedes intentar ejecutar \`obfuscated_script.py\` para verificar que (idealmente) produce la misma salida que el script original:
    \`\`\`bash
    python obfuscated_script.py # Desde el directorio ia-hacking/malware_ai/simple_obfuscation/
    \`\`\`

## Limitaciones y Mejoras Futuras (Conceptuales para IA)

*   **Análisis AST Completo:** Para un renombrado y manipulación de código verdaderamente robustos, se debería usar el Abstract Syntax Tree (AST) de Python de forma exhaustiva para transformar el código (AST rewriting), en lugar de reemplazos de texto que pueden ser frágiles. Este script usa AST para *identificar* nombres y strings pero no para *reescribir* el árbol de forma segura.
*   **Control de Flujo:** Técnicas más avanzadas aplanarían el control de flujo o lo harían más complejo (ej. usando opacadores de predicados, o transformaciones de grafos de control de flujo).
*   **IA para Ofuscación:** Una IA podría aprender qué técnicas de ofuscación son más efectivas contra ciertas herramientas de análisis o elegir dinámicamente cómo ofuscar diferentes partes del código para maximizar la evasión. También podría generar código muerto más complejo y contextualmente similar al código original.
